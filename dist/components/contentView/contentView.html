<div class="container">

    <div style ="background-color:#FDFEFE;" class="col-xs-12 col-sm-8">

        <div ng-show="!contentReady" style="height:1000px;">
            <p style="padding:300px; text-align: center;"><i class="fa fa-spinner fa-spin fa-4x"></i></p>
        </div>
        
        <h1 class="module-name" style="font-size:30px; text-align: center; font-family:Georgia, 'Times New Roman', Times, serif; font-weight:600;">{{module.name | capitalize:true}}</h1>
        <div class="text-center">
            <button ng-show="user.moderator || module.approved === false" ui-sref="writeContent({id:module._id})" class="btn btn-xs btn-default" style="color:#337ab7"> Edit Content </button>
        </div>
         <hr>
        
        <div ng-repeat="topicObject in module.topics track by $index" ng-init="parentIndex=$index">
            <h2 class="topic-name" style="font-size:26px; font-family:Georgia, 'Times New Roman', Times, serif; font-weight:600;">{{parentIndex+1}}.&nbsp;{{topicObject.name | capitalize:true}}</h2>
            <hr>
            <div ng-repeat="learningPointObject in topicObject.learningPoints track by $index">
                <h3 style="font-size:23px; font-family:Georgia, 'Times New Roman', Times, serif; font-weight:600;">{{parentIndex+1}}.{{$index+1}}&nbsp;{{learningPointObject.name | capitalize}}</h3>
                <div ta-bind="text" ng-model="learningPointObject.content" style="font-family:Georgia, 'Times New Roman', Times, serif; line-height:1.58; font-size:20px;"></div>
                <hr>
            </div>
        </div>
    </div>

    <div style="background-color:#FDFEFE;" class="hidden-xs col-sm-3 col-sm-offset-7 affix">
        <div class="row">
            <div class="col-xs-12">
                <h3 class="module-name" style="font-family:Georgia, 'Times New Roman', Times, serif; line-height:1.58;">Index</h3>
                <hr>
                <div ng-show="!contentReady" style="height:400px;">
                    <p style="padding:100px; text-align: center;"><i class="fa fa-spinner fa-spin fa-4x"></i></p>
                </div>
                <p style="text-align:center;" style="font-family:Georgia, 'Times New Roman', Times, serif; line-height:1.58; font-size:26;"><strong>{{module.name | capitalize:true}}</strong></p>
                <ul class="list-unstyled">
                    <li ng-repeat="topicObject in module.topics track by $index" ng-init="parentIndex=$index">
                        <p style="font-family:Georgia, 'Times New Roman', Times, serif; line-height:1.58; font-size:23;">{{parentIndex+1}}.&nbsp;{{topicObject.name | capitalize:true}}</p>
                        <ul class="list-unstyled">
                            <li ng-repeat="learningPointObject in topicObject.learningPoints track by $index">
                                <p style="font-family:Georgia, 'Times New Roman', Times, serif; line-height:1.58; font-size:20;"><small>{{parentIndex+1}}.{{$index+1}}.&nbsp;{{learningPointObject.name | capitalize}}</small></p>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
       
    </div>

</div>
